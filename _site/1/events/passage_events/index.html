<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Snowman 1.X Documentation - Snowman Documentation 1.X</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="A Twine story format for interactive fiction">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="/assets/css/main.css">
  <!-- Version 1.X Specific Styles -->
  <link rel="stylesheet" href="/assets/css/version-1x.css">
  <!-- Components Stylesheet -->
  <link rel="stylesheet" href="/assets/css/components.css">
  
  <!-- Legacy URL Redirect Script -->
  <script>
    // Handle legacy Docsify hash-based URLs
    if (window.location.hash.startsWith('#/')) {
      const hashPath = window.location.hash.substring(2);
      // Remove trailing slashes and add proper extension
      const cleanPath = hashPath.replace(/\/$/, '');
      const newUrl = window.location.pathname + cleanPath + '/';
      console.log('Redirecting from hash URL:', window.location.href, 'to:', newUrl);
      window.location.replace(newUrl);
    }
  </script>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <aside class="sidebar">
    <h1 class="app-name">
      <a href="/">Snowman Documentation</a>
      <span class="version-badge">1.X</span>
    </h1>
    
    <nav class="sidebar-nav" aria-label="Documentation navigation">
      

<ul>
  <li><strong>Snowman 1.X</strong>
    <ul>
      <li><a href="/1/">Introduction</a></li>
    </ul>
  </li>
  
  <li><strong>Learning Snowman</strong>
    <ul>
      <li><a href="/1/learning/links/">Links</a></li>
      <li><a href="/1/learning/text/">Styling Text</a></li>
      <li><a href="/1/learning/markup/">HTML Shorthand</a></li>
      <li><a href="/1/learning/template/">Templates</a></li>
      <li><a href="/1/learning/print/">print()</a></li>
      <li><a href="/1/learning/functions/">Functions Not Macros</a></li>
      <li><a href="/1/learning/scope/">JavaScript Scope</a></li>
    </ul>
  </li>
  
  <li><strong>Snowman HTML and CSS</strong>
    <ul>
      <li><a href="/1/htmlandcss/elements/">HTML Elements</a></li>
      <li><a href="/1/htmlandcss/default_css/">Default CSS</a></li>
      <li><a href="/1/htmlandcss/workingwithcss/">Working with CSS</a></li>
    </ul>
  </li>
  
  <li><strong>Events</strong>
    <ul>
      <li><a href="/1/events/event_cycle/">Event Cycle</a></li>
      <li><a href="/1/events/story_events/">Story Events</a></li>
      <li><a href="/1/events/passage_events/">Passage Events</a></li>
      <li><a href="/1/events/checkpoint_events/">Checkpoint Events</a></li>
    </ul>
  </li>
  
  <li><strong>window.story</strong>
    <ul>
      <li><strong>Story Properties</strong>
        <ul>
          <li><a href="/1/window_story/properties/name/">name</a></li>
          <li><a href="/1/window_story/properties/startPassage/">startPassage</a></li>
          <li><a href="/1/window_story/properties/creator/">creator</a></li>
          <li><a href="/1/window_story/properties/creatorVersion/">creatorVersion</a></li>
          <li><a href="/1/window_story/properties/history/">history</a></li>
          <li><a href="/1/window_story/properties/state/">state</a></li>
          <li><a href="/1/window_story/properties/checkpointName/">checkpointName</a></li>
          <li><a href="/1/window_story/properties/ignoreErrors/">ignoreErrors</a></li>
          <li><a href="/1/window_story/properties/errorMessage/">errorMessage</a></li>
          <li><a href="/1/window_story/properties/passages/">passages</a></li>
          <li><a href="/1/window_story/properties/userScripts/">userScripts</a></li>
          <li><a href="/1/window_story/properties/userStyles/">userStyles</a></li>
          <li><a href="/1/window_story/properties/atCheckpoint/">atCheckpoint</a></li>
        </ul>
      </li>
      <li><strong>Story Functions</strong>
        <ul>
          <li><a href="/1/window_story/functions/checkpoint/">checkpoint()</a></li>
          <li><a href="/1/window_story/functions/passage/">passage()</a></li>
          <li><a href="/1/window_story/functions/render/">render()</a></li>
          <li><a href="/1/window_story/functions/restore/">restore()</a></li>
          <li><a href="/1/window_story/functions/save/">save()</a></li>
          <li><a href="/1/window_story/functions/saveHash/">saveHash()</a></li>
          <li><a href="/1/window_story/functions/show/">show()</a></li>
          <li><a href="/1/window_story/functions/start/">start()</a></li>
        </ul>
      </li>
    </ul>
  </li>
  
  <li><strong>window.passage</strong>
    <ul>
      <li><strong>Passage Properties</strong>
        <ul>
          <li><a href="/1/window_passage/properties/id/">id</a></li>
          <li><a href="/1/window_passage/properties/name/">name</a></li>
          <li><a href="/1/window_passage/properties/tags/">tags</a></li>
          <li><a href="/1/window_passage/properties/source/">source</a></li>
        </ul>
      </li>
      <li><strong>Passage Functions</strong>
        <ul>
          <li><a href="/1/window_passage/functions/render/">render()</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
    </nav>
  </aside>
  
  <main class="content" id="main-content">
    <article class="markdown-section">
      <h2 id="passage-events">Passage Events</h2>

<p>Passage events are triggered in the order of <code class="language-plaintext highlighter-rouge">hide</code>, <code class="language-plaintext highlighter-rouge">show</code>, and <code class="language-plaintext highlighter-rouge">shown</code>.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">hide.sm.passage</code> is triggered whenever a passage is about to be replaced on screen with another. The passage property of the event object contains the passage being replaced.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">show.sm.passage</code> is triggered when a passage is about to be shown on screen. The passage property of the event object contains the passage about to be shown.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">shown.sm.passage</code> is triggered when a passage has been shown on screen and is now being displayed. The passage property of the event object contains the passage being shown.</p>
  </li>
</ul>

<h2 id="example">Example</h2>

<p>To display on the console the name of passages are events are triggered, the <code class="language-plaintext highlighter-rouge">on()</code> function can be used on the global <code class="language-plaintext highlighter-rouge">window</code> object to listen for the event and the event object passed by the triggering function. The passage property of the event object will be the passage (about to be replaced, about to be shown, or currently shown).</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">hide.sm.passage</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">eventObject</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// HTML Element on Start</span>
    <span class="c1">// Passage object otherwise</span>
    <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="p">(</span><span class="nx">eventObject</span><span class="p">.</span><span class="nx">passage</span> <span class="k">instanceof</span> <span class="nx">Element</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventObject</span><span class="p">.</span><span class="nx">passage</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">show.sm.passage</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">eventObject</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Current Passage object</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventObject</span><span class="p">.</span><span class="nx">passage</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">shown.sm.passage</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">eventObject</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Shown Passage object</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventObject</span><span class="p">.</span><span class="nx">passage</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

    </article>
  </main>

  <!-- Documentation Download Footer -->
<footer id="docs-download-section" role="contentinfo" aria-label="Download documentation">
  <div class="footer-content">
    <div class="footer-resources">
      <h3>Additional Resources</h3>
      <div class="resource-links">
        <a href="/builds/" aria-label="View all build files and downloads">ðŸ”§ All Build Files</a>
        <a href="https://github.com/videlais/snowman" target="_blank" rel="noopener noreferrer" aria-label="Visit Snowman GitHub repository">ðŸ“‚ GitHub Repository</a>
        <a href="https://github.com/videlais/snowman/archive/gh-pages.zip" target="_blank" rel="noopener noreferrer" aria-label="Download complete documentation repository">ï¿½ Full Documentation ZIP</a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>